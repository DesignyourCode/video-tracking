function getVideoTitle(t){var e="";return $.ajax({url:"//gdata.youtube.com/feeds/api/videos/"+t+"?v=2&alt=json",async:!1,success:function(t){e=t.entry.title.$t}}),e}function onYouTubeIframeAPIReady(){if("undefined"!=typeof playerInfoList)for(var t=0;t<playerInfoList.length;t++){createPlayer(playerInfoList[t])}}function createPlayer(t){return new YT.Player("player-"+t.videoId,{height:t.height,width:t.width,videoId:t.videoId,events:{onStateChange:onPlayerStateChange}})}function onPlayerStateChange(t){for(var e,a,i=$(t.target.c).attr("id"),r=0;r<playerInfoList.length;r++)i===playerInfoList[r].id&&(e=playerInfoList[r].videoTitle);-1===t.data?a="Unstarted":0===t.data?a="Ended":1===t.data?a="Playing":2===t.data?a="Paused":3===t.data?a="Buffering":5===t.data&&(a="Video cued"),console.log("send, event, Videos, "+e+", "+a+" ("+t.data+"), "+parseInt(t.target.getCurrentTime()))}var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var playerInfoList=[];$(document).ready(function(){$('[id^="player-"]').each(function(){var t=$(this).data("height")?$(this).data("height"):390,e=($(this).data("width")?$(this).data("width"):640,$(this).attr("id").replace("player-",""));playerInfoList.push({id:$(this).attr("id"),height:t,width:$(this).data("width"),videoId:e,videoTitle:getVideoTitle(e)})})});