function getVideoTitle(t){var e="";return $.ajax({url:"//gdata.youtube.com/feeds/api/videos/"+t+"?v=2&alt=json",async:!1}).done(function(t){e=t.entry.title.$t}),e}function onYouTubeIframeAPIReady(){if("undefined"!=typeof playerInfoList)for(var t=0;t<playerInfoList.length;t++){createPlayer(playerInfoList[t])}}function createPlayer(t){return new YT.Player("player-"+t.videoId,{height:t.height,width:t.width,videoId:t.videoId,events:{onStateChange:onPlayerStateChange}})}function onPlayerStateChange(t){curId=$(t.target.c).attr("id");for(var e=0;e<playerInfoList.length;e++)curId===playerInfoList[e].id&&(curTitle=playerInfoList[e].videoTitle);-1===t.data?curEventData="Unstarted":0===t.data?curEventData="Ended":1===t.data?curEventData="Playing":2===t.data?(clearTimeout(videoTimer),videoTimer=setTimeout(function(){pausedState(t,t.target.getCurrentTime())},2e3)):3===t.data?curEventData="Buffering":5===t.data&&(curEventData="Video cued"),2!==t.data&&pushTrack(t.data,t.target.getCurrentTime())}function pushTrack(t,e){ga("send","event","Videos",curTitle,curEventData,parseInt(e))}function pausedState(t,e){2===t.data&&(curEventData="Paused",pushTrack(t.data,e))}var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var playerInfoList=[];$(document).ready(function(){$('[id^="player-"]').each(function(){var t=$(this).data("height")?$(this).data("height"):390,e=($(this).data("width")?$(this).data("width"):640,$(this).attr("id").replace("player-",""));playerInfoList.push({id:$(this).attr("id"),height:t,width:$(this).data("width"),videoId:e,videoTitle:getVideoTitle(e)})})});var curId,curTitle,curEventData,videoTimer;